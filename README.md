# 2022年研究生数学建模E题
```
├── code
│   ├── config.py 整个代码的配置文件
│   ├── merge.py 数据整合
│   ├── cal_huangmohua.py 问题二，五的数据预处理
│   ├── final_code.py 问题二
│   ├── util.py 问题五
│   ├── question.py 问题三，问题五的解算
│   └── Transformer.py transformer
├── data
│   ├── 基本数据
│   └── 监测点数据
└── train_data
```
## 环境
- pytorch
- keras
- pandas
- numpy
- sklearn
- matplotlib
- seaborn

## 目录结构
```
目录
1问题背景与问题重述	1
1.1问题背景	1
1.2 问题重述	1
2 模型假设与符号说明	3
2.1 模型假设	3
2.2 符号说明	3
3 问题1—草原土壤性质和植被生物量的数学模型	4
3.1 问题分析	4
3.2 数据预处理	4
3.3 数据分析	4
3.4 定性分析	6
3.4.1 禁牧	6
3.4.2 轻度放牧	7
3.4.3 全年连续放牧	7
3.4.4 选择划区轮牧	8
4 问题2—不同深度土壤湿度预测模型	10
4.1 问题分析	10
4.2 时序模型原理	10
4.2.1 LSTM 原理介绍	10
4.2.2 Transformer 原理介绍	12
4.3 基于LSTM的土壤湿度预测模型	14
4.4 基于Transformer的土壤湿度预测模型	15
4.5 模型评价和结果分析	16
5 问题3—草原土壤化学性质预测模型	18
5.1 问题分析	18
5.2 插值算法介绍	18
5.2.1 Lagrange 插值法	18
5.2.2 Newton 插值法	18
5.2.3 Hermite 插值法	19
5.3回归模型原理介绍	19
5.3.1 支持向量回归机（Support Vector Regression, SVR）	19
5.3.2 装袋回归算法（Bagging Regression，BR）	20
5.4 不同插值算法分析	21
5.4.1 基于Lagrange插值结果	21
5.4.2 基于Newton插值结果	21
5.5 单元回归预测	22
5.5.1 基于SVR的单元回归预测	22
5.6 基于LSRM的多元回归预测（Newton单点插值）	27
5.7不同回归预测性能分析	28
5.7.1 不插值回归性能对比	28
5.7.2 单点插值回归性能对比	28
6 问题4—土壤板结化模型	29
6.1 问题分析	29
6.2 放牧强度与植被生物量的关系	29
6.2 沙漠化分析	30
6.2.1 因子分析	30
6.2.2 沙漠化程度预测	31
6.3 板结化分析及结论	31
7 问题5—最大放牧阈值预测模型	32
7.1 问题分析	32
7.2 问题结果	33
8 问题6—土壤状态预测模型	35
8.1 问题分析	35
9 参考文献	36
附录A 问题结果	37
附录A1  问题2—2022年和2023年不同深度土壤湿度预测结果	37
附录A2  问题3—2022年土壤同期化学性质预测结果	37
附录A3 问题4—沙漠化程度指数值和定量土壤板结化定义	38
附录B Python 源程序	38



```

## 数据准备
```
# 获取所有数据
Config.ismerge = True
python merger.py

# 获取植被覆盖率数据
Config.isAttachment5
python merge
```
### 异常数据处理
为了后续方便地使用数据，先对给定的数据进行处理并以易于操作的矩阵形式进行保存。在处理数据的过程中对其中的异常值和无效值采用滑动平均的方式进行处理。
## 问题二
- LSTM
- Transformer

### 代码


## 问题三
- LSTM
- 支持向量回归机（Support Vector Regression, SVR）
- 装袋回归算法（Bagging Regression，BR）
### 插值
- 牛顿插值
- 拉格朗日插值
- 三次埃尔米特插值
已有数据太少，利用插值，来扩充数据

### 两个角度
- 单元土壤属性时序预测
- 多元土壤属性时序预测（降雨量，植被覆盖率等）

## 使用
查看question.py与Config文件

## 问题四
定义了土壤板结化公式，计算不同放牧强度下的板结化程度

## 问题五
利用问题三构建的模型，预测土壤属性，来反映放牧数量阈值


## 问题六
利用问题四的结论预测不同方案下土地状态变化



